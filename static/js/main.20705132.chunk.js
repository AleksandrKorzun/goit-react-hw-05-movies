(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{17:function(e,t,n){e.exports={form:"SearchForm_form__3k-1-",label:"SearchForm_label__1ykui",formInput:"SearchForm_formInput__3QMXA"}},18:function(e,t,n){e.exports={navList:"Navigation_navList__3qhBO",navLink:"Navigation_navLink__3P8Xr",navLinkActive:"Navigation_navLinkActive__IFhTk"}},34:function(e,t,n){e.exports={header:"Header_header__GDNMi"}},39:function(e,t,n){},40:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(31),s=n.n(a),o=(n(39),n(40),n(10)),i=n(2),u=n.n(i),j=n(5),h=n(11),p=n(3),l=n(0),b=function(e){var t=e.title,n=e.id,r=e.name,c=Object(p.f)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("li",{children:Object(l.jsx)(o.b,{to:{pathname:"/movies/".concat(n),state:{from:c.location.pathname+c.location.search}},children:t||r})})})},v=function(e){var t=e.movies;return Object(l.jsx)("ul",{children:t.map((function(e){var t=e.title,n=e.id,r=e.name;return Object(l.jsx)(b,{title:t,id:n,name:r},n)}))})},f=n(13),m=n.n(f),x="https://api.themoviedb.org/",O="14e0c7cf26fd6e9a764618248c5c5e42",d=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(x,"3/trending/all/week?api_key=").concat(O));case 3:return t=e.sent,e.abrupt("return",t.data.results);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(x,"3/movie/").concat(t,"?api_key=").concat(O,"&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(x,"3/movie/").concat(t,"/credits?api_key=").concat(O,"&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(x,"3/movie/").concat(t,"/reviews?api_key=").concat(O,"&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,m.a.get("".concat(x,"3/search/movie?api_key=").concat(O,"&language=en-US&query=").concat(t));case 5:return n=e.sent,console.log(n.data.results),e.abrupt("return",n.data.results);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)(Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)}))),[]),Object(l.jsx)(v,{movies:n})},S=n(17),E=n.n(S),F=function(e){var t=e.history,n=e.match,c=e.getSearchMovie,a=Object(r.useState)(""),s=Object(h.a)(a,2),o=s[0],i=s[1],p=function(){var e=Object(j.a)(u.a.mark((function e(r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,_(o);case 3:a=e.sent,t.push(n.url+"?query=".concat(o)),console.log(t),c(a),i("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("form",{className:E.a.form,onSubmit:p,children:[Object(l.jsx)("label",{className:E.a.label,children:Object(l.jsx)("input",{className:E.a.formInput,type:"text",placeholder:"Search movies",onChange:function(e){i(e.target.value)},value:o})}),Object(l.jsx)("button",{type:"submit",children:"Search"})]})})},N=[{name:"Home",path:"/",exact:!0,component:y},{name:"Movies",path:"/movies",exact:!1,component:function(e){var t=e.history,n=e.match;Object(r.useEffect)(Object(j.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.location.search.split("=")[1])){e.next=7;break}return e.next=4,_(n);case 4:r=e.sent,o(r),console.log(r);case 7:case"end":return e.stop()}}),e)}))),[]);var c=Object(r.useState)([]),a=Object(h.a)(c,2),s=a[0],o=a[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(F,{getSearchMovie:function(e){o(e)},history:t,match:n}),!!s.length&&Object(l.jsx)(v,{movies:s})]})}}],L=n(18),M=n.n(L),I=function(){return Object(l.jsx)("nav",{children:Object(l.jsx)("ul",{className:M.a.navList,children:N.map((function(e){var t=e.path,n=e.name,r=e.exact;return Object(l.jsx)("li",{children:Object(l.jsx)(o.c,{exact:r,to:t,className:M.a.navLink,activeClassName:M.a.navLinkActive,children:n})},t)}))})})},A=n(34),C=n.n(A);var U=function(){return Object(l.jsx)("header",{className:C.a.header,children:Object(l.jsx)(I,{})})},q=function(e){var t=e.location,n=e.match,c=Object(r.useState)([]),a=Object(h.a)(c,2),s=a[0],o=a[1];Object(r.useEffect)((function(){i()}),[]);var i=function(){var e=Object(j.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n.params.id);case 2:r=e.sent,o(r.cast),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("ul",{children:s.map((function(e){var t=e.profile_path,n=e.name;return Object(l.jsxs)("li",{children:[t&&Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t),alt:n}),Object(l.jsx)("h3",{children:n})]},n)}))})})},G=function(e){var t=e.match,n=Object(r.useState)([]),c=Object(h.a)(n,2),a=c[0],s=c[1];Object(r.useEffect)((function(){o()}),[]);var o=function(){var e=Object(j.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t.params.id);case 2:n=e.sent,s(n.results),console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)("ul",{children:a.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)("h3",{children:e.author}),Object(l.jsx)("p",{children:e.content})]},e.id)}))})},B=function(e){var t=e.title,n=e.poster,r=e.overview,c=e.genres,a=e.history,s=e.match;e.location;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:n&&Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(n),alt:t,width:"300px"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:t}),Object(l.jsx)("h3",{children:"Overview"}),Object(l.jsx)("p",{children:r}),Object(l.jsx)("h3",{children:"Genres"}),Object(l.jsx)("ul",{children:c&&c.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)("p",{children:e.name})},e.name)}))})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)(o.b,{to:{pathname:"".concat(s.url,"/cast"),state:{from:a.location.state.from}},children:"Cast"}),Object(l.jsx)(o.b,{to:{pathname:"".concat(s.url,"/reviews"),state:{from:a.location.state.from}},children:"Reviews"})]}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{})]})},D=function(e){var t=e.location,n=e.history,c=e.match,a=Object(r.useState)({}),s=Object(h.a)(a,2),o=s[0],i=s[1];Object(r.useEffect)((function(){b()}),[c.params.id]);var b=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(c.params.id);case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=o.title,f=o.poster_path,m=o.overview,x=o.genres;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{type:"submit",onClick:function(e){console.log(t),n.push(t.state.from)},children:"Go back"}),Object(l.jsx)(B,{title:v,poster:f,overview:m,genres:x,history:n,match:c}),Object(l.jsx)(p.a,{exact:!0,path:c.path+"/cast",component:q}),Object(l.jsx)(p.a,{exact:!0,path:c.path+"/reviews",component:G})]})},H=function(){return Object(l.jsx)("main",{children:Object(l.jsxs)(p.c,{children:[Object(l.jsx)(p.a,{exact:!1,path:"/movies/:id",component:D}),N.map((function(e){var t=e.path,n=e.exact,r=e.component;return Object(l.jsx)(p.a,{exact:n,path:t,component:r},t)}))]})})};var J=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(U,{}),Object(l.jsx)(H,{})]})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(J,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.20705132.chunk.js.map